/* Tailwind v4 entry */
@import "tailwindcss";
/* Remove this if you didn't install it */
@import "tw-animate-css";

/* Dark-mode helper (v4) */
@custom-variant dark (&:is(.dark *));

/* ---------- Design tokens ---------- */
:root {
  /* Luxury palette */
  --background: oklch(1 0 0);
  --foreground: oklch(0.4 0 0);

  --card: oklch(0.98 0.01 340);
  --card-foreground: oklch(0.35 0.15 340);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.4 0 0);

  --primary: oklch(0.45 0.25 340);
  --primary-foreground: oklch(1 0 0);

  --secondary: oklch(0.65 0.2 320);
  --secondary-foreground: oklch(1 0 0);

  --muted: oklch(0.98 0.01 340);
  --muted-foreground: oklch(0.4 0 0);

  --accent: oklch(0.65 0.2 320);
  --accent-foreground: oklch(1 0 0);

  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);

  --border: oklch(0.9 0.01 340);
  --input: oklch(0.96 0.01 340);
  --ring: oklch(0.45 0.25 340 / 0.5);

  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  --radius: .5rem;

  /* sidebar variants */
  --sidebar: oklch(0.98 0.01 340);
  --sidebar-foreground: oklch(0.4 0 0);
  --sidebar-primary: oklch(0.45 0.25 340);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.65 0.2 320);
  --sidebar-accent-foreground: oklch(1 0 0);
  --sidebar-border: oklch(0.9 0.01 340);
  --sidebar-ring: oklch(0.45 0.25 340 / 0.5);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);

  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);

  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);

  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);

  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);

  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);

  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);

  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);

  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);

  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
}

/* Map tokens to Tailwind v4 theme vars */
@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

/* ---------- Base tweaks ---------- */
@layer base {
  * { @apply border-border outline-ring/50; }
  body { @apply bg-background text-foreground; }
}

/* ---------- Animation utilities ---------- */
@layer utilities {
  /* Keyframes */
  @keyframes fadeUp       { from {opacity:0; transform:translateY(30px)} to {opacity:1; transform:translateY(0)} }
  @keyframes fadeIn       { from {opacity:0} to {opacity:1} }
  @keyframes fadeInLeft   { from {opacity:0; transform:translateX(-30px)} to {opacity:1; transform:translateX(0)} }
  @keyframes fadeInRight  { from {opacity:0; transform:translateX( 30px)} to {opacity:1; transform:translateX(0)} }
  @keyframes scaleIn      { from {opacity:0; transform:scale(.95)} to {opacity:1; transform:scale(1)} }

  /* Classes */
  .animate-fade-up        { animation: fadeUp .7s ease-out both;    will-change: transform, opacity; }
  .animate-fade-in        { animation: fadeIn .7s ease-out both;     will-change: opacity; }
  .animate-fade-in-left   { animation: fadeInLeft .7s ease-out both; will-change: transform, opacity; }
  .animate-fade-in-right  { animation: fadeInRight .7s ease-out both;will-change: transform, opacity; }
  .animate-scale-in       { animation: scaleIn .6s ease-out both;    will-change: transform, opacity; }

  /* Staggers */
  .animate-delay-100 { animation-delay:.1s }
  .animate-delay-200 { animation-delay:.2s }
  .animate-delay-300 { animation-delay:.3s }
  .animate-delay-400 { animation-delay:.4s }
  .animate-delay-500 { animation-delay:.5s }
  .animate-delay-600 { animation-delay:.6s }
  .animate-delay-700 { animation-delay:.7s }

  /* Helpers */
  .animate-on-scroll { opacity: 0; }
  .transition-all-smooth { transition: all .3s cubic-bezier(.4,0,.2,1); }
  .hover-lift { transition: transform .3s ease, box-shadow .3s ease; }
  .hover-lift:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 10px 10px -5px rgb(0 0 0 / .04); }
}

/* ---------- EDGE FEATHER (corners/edges soften) ---------- */
/* Base mask (modern browsers) */
.edge-feather {
  --fade: 80px; /* default; overridden by -sm/-md/-lg below */
  -webkit-mask-image:
    linear-gradient(to right,
      transparent 0,
      #000 var(--fade),
      #000 calc(100% - var(--fade)),
      transparent 100%),
    linear-gradient(to bottom,
      transparent 0,
      #000 var(--fade),
      #000 calc(100% - var(--fade)),
      transparent 100%);
  -webkit-mask-composite: source-in; /* Chrome/Edge */
          mask-image:
    linear-gradient(to right,
      transparent 0,
      #000 var(--fade),
      #000 calc(100% - var(--fade)),
      transparent 100%),
    linear-gradient(to bottom,
      transparent 0,
      #000 var(--fade),
      #000 calc(100% - var(--fade)),
      transparent 100%);
          mask-composite: intersect;   /* Firefox */
}

/* ------- Bottom-only feather ------- */
/* Visible everywhere except the last --fade px at the bottom */
.edge-feather-b {
  --fade: 5px; /* tweak to 6â€“10px if 5px is too subtle on your screen */
  -webkit-mask-image: linear-gradient(
    to bottom,
    #000 calc(100% - var(--fade)),
    transparent 100%
  );
          mask-image: linear-gradient(
    to bottom,
    #000 calc(100% - var(--fade)),
    transparent 100%
  );
  -webkit-mask-repeat: no-repeat;
          mask-repeat: no-repeat;
}

/* quick size variants (optional) */
.edge-feather-b-8  { --fade: 8px;  }
.edge-feather-b-12 { --fade: 12px; }

/* Safari fallback: draw a tiny bottom gradient to the page background */
.edge-feather-b--fallback::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: 0;
  height: var(--fade, 5px);
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(255,255,255,0), var(--background, #fff));
  opacity: .45; /* lower if you want even softer */
}
